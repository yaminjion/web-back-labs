{% extends "base.html" %}
{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 5{% endblock %}

{% block main %}
    <h1>–ú–æ–∏ —Å—Ç–∞—Ç—å–∏</h1>

    {% if error %}
        <div style="color: red; margin-bottom: 15px;">
            {{ error }}
        </div>
    {% elif articles %}
        <div style="display: flex; flex-direction: column; gap: 20px;">
            {% for article in articles %}
                <div style="border: 1px solid #ccc; padding: 15px; border-radius: 5px; background-color: #f9f9f9;">
                    <h2>{{ article.title or '[–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è]' }}</h2>
                    <p style="white-space: pre-line;">{{ article.article_text }}</p>
                    <div style="margin-top: 10px; font-size: 12px; color: #666;">
                        {% if article.is_favorite %}‚≠ê –ò–∑–±—Ä–∞–Ω–Ω–æ–µ | {% endif %}
                        {% if article.is_public %}üåê –ü—É–±–ª–∏—á–Ω–∞—è | {% endif %}
                        ‚ù§Ô∏è –õ–∞–π–∫–æ–≤: {{ article.likes }}
                    </div>
                    <div style="margin-top: 12px; display: flex; gap: 10px; align-items: flex-start;">
                        <a href="{{ url_for('lab5.edit_article', article_id=article.id) }}"
                        style="text-decoration: none; padding: 8px 16px; background-color: #4CAF50; color: white; border-radius: 4px; font-size: 14px; display: inline-block; line-height: 1.2;">
                            –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å
                        </a>
                        <form method="post" action="{{ url_for('lab5.delete_article', article_id=article.id) }}"
                            style="display: inline;" onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ç—å—é?')">
                            <button type="submit"
                                    style="padding: 8px 16px; background-color: #f44336; color: white; border: none; border-radius: 4px; font-size: 14px; cursor: pointer; line-height: 1.2;">
                                –£–¥–∞–ª–∏—Ç—å
                            </button>
                        </form>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–π —Å—Ç–∞—Ç—å–∏.</p>
    {% endif %}

    <p><a href="{{ url_for('lab5.lab') }}">‚Üê –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –±–∞–∑—É –∑–Ω–∞–Ω–∏–π</a></p>
{% endblock %}