{% extends "base.html" %}
{% block lab %}–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞—è —Ä–∞–±–æ—Ç–∞ 8{% endblock %}

{% block main %}
<h1>–ú–æ–∏ —Å—Ç–∞—Ç—å–∏</h1>

{% if articles %}
    <ul style="list-style: none; padding: 0;">
    {% for article in articles %}
        <li style="border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; border-radius: 5px; background: #f9f9f9;">
            <div>
                <strong>{{ article.title }}</strong>
                {% if article.is_favorite %}
                    <span style="color: gold;">‚≠ê</span>
                {% endif %}
                {% if article.is_public %}
                    <span style="color: green;">üåç –ü—É–±–ª–∏—á–Ω–∞—è</span>
                {% endif %}
            </div>
            <div style="margin: 10px 0; color: #555;">
                {{ article.article_text[:200] }}{% if article.article_text|length > 200 %}...{% endif %}
            </div>
            <div>
                üëç {{ article.likes }}
            </div>
            <div style="margin-top: 10px;">
                <a href="/lab8/edit/{{ article.id }}"><button>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button></a>
                <form method="POST" action="/lab8/delete/{{ article.id }}" style="display:inline;" 
                      onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ç—å—é ¬´{{ article.title }}¬ª?')">
                    <button type="submit" style="background-color: #d9534f; color: white; border: none; padding: 5px 10px; border-radius: 3px; cursor: pointer;">
                        –£–¥–∞–ª–∏—Ç—å
                    </button>
                </form>
            </div>
        </li>
    {% endfor %}
    </ul>
{% else %}
    <p>–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç —Å—Ç–∞—Ç–µ–π.</p>
{% endif %}

<div style="margin-top: 20px;">
    <a href="/lab8/create"><button>‚ûï –°–æ–∑–¥–∞—Ç—å —Å—Ç–∞—Ç—å—é</button></a>
    <a href="/lab8/public"><button>üåé –ü—É–±–ª–∏—á–Ω—ã–µ —Å—Ç–∞—Ç—å–∏</button></a>
    <a href="/lab8/search"><button>üîç –ü–æ–∏—Å–∫</button></a>
</div>

<p style="margin-top: 20px;"><a href="/lab8/">‚Üê –ù–∞–∑–∞–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a></p>
{% endblock %}