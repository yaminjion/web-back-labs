{% extends "base.html" %}
{% block lab %}–ü–æ–∏—Å–∫ —Å—Ç–∞—Ç–µ–π{% endblock %}

{% block main %}
<h1>–ü–æ–∏—Å–∫ —Å—Ç–∞—Ç–µ–π</h1>

<form method="GET" style="margin-bottom: 20px;">
    <input type="text" name="q" value="{{ query }}" placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–ª–æ–≤–æ –¥–ª—è –ø–æ–∏—Å–∫–∞" style="width: 300px; padding: 5px;">
    <button type="submit">–ù–∞–π—Ç–∏</button>
</form>

{% if articles %}
    <h2>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ –∑–∞–ø—Ä–æ—Å—É "{{ query }}"</h2>
    <div style="display: flex; flex-direction: column; gap: 15px;">
    {% for a in articles %}
        <div style="border: 1px solid #ccc; padding: 15px; border-radius: 5px; background: #f9f9f9;">
            <div><strong>{{ a.title }}</strong></div>
            <div style="margin: 10px 0; color: #555;">
                {{ a.article_text[:200] }}{% if a.article_text|length > 200 %}...{% endif %}
            </div>
            <div>üëç {{ a.likes }}</div>
        </div>
    {% endfor %}
    </div>
{% elif query %}
    <p>–ù–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
{% endif %}

<p><a href="/lab8/">‚Üê –ù–∞–∑–∞–¥</a></p>
{% endblock %}